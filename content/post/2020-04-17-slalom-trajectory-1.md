---
title: "滑らかなスラロームの設計① スラロームの概要"
date: "2020-04-18T11:00:00+09:00"
categories:
  - "説明記事"
tags:
  - "マイクロマウス"
  - "制御"
thumbnail: "icon.png"
draft: true
---

## はじめに

今回はマイクロマウスにおけるスラローム走行のお話です．

私が使っているスラローム走行の概要とその軌道の生成方法などを紹介します．

### 滑らかなスラロームの設計 目次

今回の記事は次のような構成になっています．

- 滑らかなスラロームの設計① スラロームの概要
- 滑らかなスラロームの設計② 具体的な設計方法
- 滑らかなスラロームの設計③ C++による実装例
- 滑らかなスラロームの設計④ 最短走行ターンの生成例

<!--more-->

## スラロームの構成

多くのスラロームの軌道は，

    直線 → 緩和曲線 → 円弧 → 緩和曲線 → 直線

という構成になっています．

![スラローム形状](shape/shape_2_xy.svg)

直線と円弧の間には，角速度を連続的に変化させて得られる**緩和曲線**が存在します．

仮に，緩和曲線を設けずに単なる円弧でターンしようとすると，直線とターンの切り替わりでハンドルを急に回すことになり，クラッシュのもとになってしまいます．

緩和曲線にはいくつか種類がありますが，解析的に積分をするのが困難であり，これが計算を辛くする要因です．

そこで，数値積分して近似値を得るアプローチがしばしば見られます．

今回の記事でもその方法で軌道を求めます．

## 設計するスラローム軌道の概要

つぎに，今回紹介するスラローム走行の概要について説明します．

### 特徴

以下のような特徴があります．

- 並進速度 $v(t)$ は一定とするが，任意の値を設定可能である．
- 角速度 $\omega(t)$ は滑らかな曲線加速である，つまり角加速度まで連続関数である．
- 位置 $(x(t),~y(t))$ については，速度 $(v\cos\theta,~v\sin\theta)$ をルンゲクッタ法によって数値積分して近似値を得る(十分正確に計算可能)

上記の方法によって，各時刻$t$けんける目標速度$(v,\omega)$や目標姿勢$(x,y,\theta)$などが求まるので，あとはそれに追従すればよいということになります．

また，ターン時の並進速度$v$が任意に設定可能なおかげで，ターンに差し掛かった際の並進速度を維持したままターンをすることが可能です．

### 滑らかな加減速

以下のグラフは，今回設計するスラロームの角躍度，角加速度，角速度，角度をプロットしたものです．

角速度が滑らかに変化していることがわかります．

![スラローム軌道](shape/shape_2_t.svg)

## まとめ

今回の記事では，滑らかなスラローム走行の概要について説明しました．

次回の記事では，具体的な設計方法について紹介していきます．

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
