---
title: "滑らかなスラロームの設計② 設計方法"
date: "2020-04-18T12:00:00+09:00"
categories:
  - "説明記事"
tags:
  - "マイクロマウス"
  - "制御"
thumbnail: "icon.png"
draft: true
---

前回の記事の続きです．

この記事では，滑らかなスラローム軌道の具体的な設計方法を紹介します．

<!--more-->

## 手順

今回のスラローム設計は，事前の軌道設計と走行時の適用に分けて考えることができます．

1. 事前にPCなどでスラローム軌道の概形を設計する
2. 走行時に並進速度$v$を用いて，概形を適切にスケーリングする

### 事前の概形設計の概要

1. 最大角躍度，最大角加速度，最大角速度を設定する
2. 角度の拘束を満たす角速度曲線を求める
3. 数値積分をして移動位置を求める
4. スケーリングして基準並進速度$v_r$を求める

### 走行時のスケーリング手順

1. 走行する並進速度$v$を用いて，角速度$\omega$などをスケーリングし，辻褄をあわせる

## 事前の概形設計

例えば，以下のような軌道を設計する場合を考えます．

![スラローム形状](shape/shape_2_xy.svg)

### 拘束条件

- 移動位置，角度
- 飽和角躍度，角加速度，角速度

| 項目         | 変数                    | 90度ターンの例         |
| ------------ | ----------------------- | ---------------------- |
| 移動位置     | $(x_e,~y_e)$            | (70, 70) [mm]          |
| 移動角度     | $\theta_e$              | $\pi/2$ [rad]          |
| 最大角躍度   | $\dddot{\theta}_{\max}$ | 1200 $\pi$ [rad/s/s/s] |
| 最大角加速度 | $\ddot{\theta}_{\max}$  | 36 $\pi$ [rad/s/s]     |
| 最大角速度   | $\dot{\theta}_{\max}$   | 3 $\pi$ [rad/s]        |

## 事前設計方法

1. 最大角躍度，最大角加速度，最大角速度を決定する

![スラローム軌道](shape/shape_2_t.svg)

## 走行時のスケーリング方法

## まとめ

### 走行時に与える情報

- 並進速度 $v$

### 走行時に得られる情報

- 各時刻 $t$ における角度 $\theta(t)$，角速度 $\dot{\theta}(t)$，角加速度 $\ddot{\theta}(t)$，角躍度 $\dddot{\theta}(t)$
- 各時刻 $t$ における位置 $x(t)$, $y(t)$
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
